(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"1fb7":function(e,t,n){"use strict";(function(e){n("8790"),n("921b");a(n("66fd"));var t=a(n("a4fc"));function a(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("6e42")["createPage"])},"34e3":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement;e._self._c},o=[];n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o})},"62a2":function(e,t,n){},"678e":function(e,t,n){"use strict";n.r(t);var a=n("f415"),o=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);t["default"]=o.a},a4fc:function(e,t,n){"use strict";n.r(t);var a=n("34e3"),o=n("678e");for(var i in o)"default"!==i&&function(e){n.d(t,e,function(){return o[e]})}(i);n("b040");var s=n("2877"),r=Object(s["a"])(o["default"],a["a"],a["b"],!1,null,null,null);t["default"]=r.exports},b040:function(e,t,n){"use strict";var a=n("62a2"),o=n.n(a);o.a},f415:function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n("2f62");function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){s(e,t,n[t])})}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=function(){return Promise.all([n.e("common/vendor"),n.e("components/banner/banner")]).then(n.bind(null,"0655"))},c=function(){return n.e("components/nav/nav").then(n.bind(null,"123d"))},u={data:function(){return{title:"",datas:[],gain:[],img:[],address:"",city:"",district:"",adcode:"",cityInfo:"",weather:"",dates:"",date:"",week:"",temperature:"",s:"s",j:"j",autoplay:!1,indicatorDots:!0,interval:2e3,duration:500,circular:!0,myManagerBox:{},modelshow:!1,dots:!1,noticeContent:"",noticeshow:!1}},onShow:function(){this.getlocation(),this.getDate(),console.log(e(this.hasLogin," at pages\\index\\index.vue:303")),this.getInfo(),this.setLetter(),this.setNotice(),this.setDot()},methods:{getInfo:function(){var e=this;a.getStorage({key:"userInfo",success:function(t){var n=t.data.oilPrice;e.datas=n.oilPrice,e.gain=n.oilAmplitude,e.myManagerBox=t.data.managers,e.myManagerBox.length<2?e.indicatorDots=!1:e.indicatorDots=!0;var a=t.data.banners;e.img=a}})},setDot:function(){var t=this;this.test.post("user/count_letter_notice").then(function(n){console.log(e(n," at pages\\index\\index.vue:341")),0==n.data.value?t.dots=!1:t.dots=!0}).catch(function(t){console.log(e(t," at pages\\index\\index.vue:349"))})},setLetter:function(){var t=this;this.test.post("user/get_letter").then(function(n){if(console.log(e(n," at pages\\index\\index.vue:356")),n.statusCode&&0==n.data.errorCode){if(null==n.data.value||""==n.data.value)return;0==n.data.value.confirm_type&&(t.modelshow=!0)}else a.showToast({title:n.data.message,icon:"none",position:"bottom"})}).catch(function(t){console.log(e(t," at pages\\index\\index.vue:374"))})},setAccount:function(){a.navigateTo({url:"./letter/account/account"})},closeModel:function(){this.modelshow=!1},setNotice:function(){var t=this;this.test.post("user/list_notices").then(function(n){if(console.log(e(n," at pages\\index\\index.vue:390")),200==n.statusCode&&0==n.data.errorCode){if(0==n.data.value.length)return void console.log(e(1," at pages\\index\\index.vue:393"));0==n.data.value[0].is_read&&(t.noticeshow=!0,t.noticeContent=n.data.value[0].content)}else a.showToast({title:n.data.message,icon:"none",position:"bottom"})}).catch(function(t){console.log(e(t," at pages\\index\\index.vue:411"))})},closeNotice:function(){this.noticeshow=!1},setNoticies:function(){a.navigateTo({url:"./letter/notice/notice"})},callPhone:function(e,t){a.showModal({title:"呼叫客户经理-"+t,confirmText:"呼叫",content:e,success:function(t){if(t.confirm)a.makePhoneCall({phoneNumber:e});else if(t.cancel)return}})},getlocation:function(){var e=this;a.request({url:"https://restapi.amap.com/v3/ip?parameters",header:{"Content-Type":"application/json;charset=UTF-8"},data:{key:"b5066e0a9a2a996397e9172fc67fdf40"},success:function(t){e.city=t.data.city,e.adcode=t.data.adcode,e.getWeather()}})},getWeather:function(){var e=this;a.request({url:"https://restapi.amap.com/v3/weather/weatherInfo?parameters",header:{"Content-Type":"application/json;charset=UTF-8"},data:{key:"b5066e0a9a2a996397e9172fc67fdf40",city:e.adcode,extensions:"base"},methods:"GET",success:function(t){t.data.lives.forEach(function(t){e.temperature=t.temperature,e.weather=t.weather})}})},getDate:function(){var e=new Date,t=e.getDay(),n=e.getMonth()+1,a=e.getFullYear(),o=e.getDate();switch(this.date=a+"-"+n+"-"+o,this.dates=n+"月"+o+"日",t){case 0:return this.week="星期天";case 1:return this.week="星期一";case 2:return this.week="星期二";case 3:return this.week="星期三";case 4:return this.week="星期四";case 5:return this.week="星期五";case 6:return this.week="星期六"}},message:function(){a.navigateTo({url:"./letter/letter"})}},computed:i({},(0,o.mapState)(["hasLogin","userInfo","roles","Token"])),components:{banner:r,navs:c}};t.default=u}).call(this,n("0de9")["default"],n("6e42")["default"])}},[["1fb7","common/runtime","common/vendor"]]]);