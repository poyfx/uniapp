(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/register/positive/positive"],{1812:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement;t._self._c},o=[];s.d(e,"a",function(){return i}),s.d(e,"b",function(){return o})},3767:function(t,e,s){"use strict";s.r(e);var i=s("b544"),o=s.n(i);for(var n in i)"default"!==n&&function(t){s.d(e,t,function(){return i[t]})}(n);e["default"]=o.a},"9ddc":function(t,e,s){"use strict";var i=s("c936"),o=s.n(i);o.a},a72e:function(t,e,s){"use strict";s.r(e);var i=s("1812"),o=s("3767");for(var n in o)"default"!==n&&function(t){s.d(e,t,function(){return o[t]})}(n);s("9ddc");var a=s("2877"),r=Object(a["a"])(o["default"],i["a"],i["b"],!1,null,"dc807d78",null);e["default"]=r.exports},b544:function(t,e,s){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(s("a7aa")),n=r(s("63eb")),a=r(s("0362"));s("71c2");function r(t){return t&&t.__esModule?t:{default:t}}var h=function(){return s.e("components/step/step").then(s.bind(null,"0e21"))},p=function(){return s.e("components/m-button").then(s.bind(null,"1460"))},u=function(){return s.e("components/twoButton/twoButton").then(s.bind(null,"a41a"))},c=function(){return Promise.all([s.e("common/vendor"),s.e("rattenking-dtpicker/rattenking-dtpicker")]).then(s.bind(null,"d6ea"))},g=function(){return Promise.all([s.e("common/vendor"),s.e("components/w-picker/w-picker")]).then(s.bind(null,"2ae5"))},l={data:function(){return{step:{value1:"第一步",value2:"第二步",value3:"第三步",value4:"第四步",value5:"第五步",active:"step-active",ago:"step-ago",kong:"",kong1:"",kong2:"",kong3:""},btn:{type:"primary",value:"下一步",disabled:!1,content:"上一步",commit:"提交",stepOne:!0,stepTwo:!1,stepThree:!1,stepFour:!1,stepFive:!1,Dates:!1,dates:!1,voiceDates:!1},info:["正面","反面","购油","提油","发票领取"],tellinfo:["正面示例","反面示例","授权书示例"],num:0,count:0,src:o.default,ifday:!1,ifdays:!1,ifvoiceDate:!1,times:!0,apply_one:!0,apply_two:!0,idCardZ:"",idCardF:"",buyOil:"",takeOil:"",register:"",img:[],mode:"date",day:"2019-01-01",days:"2019-01-01",voiceDate:"2019-01-01"}},onLoad:function(){this.register=t.getStorageSync("register"),console.log(i(this.register," at pages\\register\\positive\\positive.vue:206"))},methods:{all:function(){if(1==this.btn.stepOne){var e=this;t.chooseImage({count:1,success:function(t){e.count=1,console.log(i(t.tempFiles[0].path," at pages\\register\\positive\\positive.vue:217")),e.idCardZ=t.tempFilePaths,e.src=t.tempFiles[0].path;var s={name:"id_fphoto",uri:t.tempFilePaths[0]};e.img.splice(0,1,s)}})}else if(1==this.btn.stepTwo){var s=this;t.chooseImage({count:1,success:function(t){console.log(i(t.tempFiles," at pages\\register\\positive\\positive.vue:240")),s.count=2,s.idCardF=t.tempFilePaths,s.src=t.tempFiles[0].path;var e={name:"id_bphoto",uri:t.tempFilePaths[0]};s.img.splice(1,1,e)}})}else if(1==this.btn.stepThree){var o=this;t.chooseImage({count:1,success:function(t){console.log(i(t.tempFiles," at pages\\register\\positive\\positive.vue:260")),o.count=3,o.buyOil=t.tempFilePaths,o.src=t.tempFiles[0].path;var e={name:"buy_auth_photo",uri:t.tempFilePaths[0]};o.img.splice(2,1,e)}})}else if(1==this.btn.stepFour){var n=this;t.chooseImage({count:1,success:function(t){console.log(i(t.tempFiles," at pages\\register\\positive\\positive.vue:280")),n.count=4,n.takeOil=t.tempFilePaths,n.src=t.tempFiles[0].path;var e={name:"get_auth_photo",uri:t.tempFilePaths[0]};n.img.splice(3,1,e)}})}else if(1==this.btn.stepFive){var a=this;t.chooseImage({count:1,success:function(t){console.log(i(t.tempFiles," at pages\\register\\positive\\positive.vue:300")),a.count=5,a.takeOil=t.tempFilePaths,a.src=t.tempFiles[0].path;var e={name:"bill_auth_photo",uri:t.tempFilePaths[0]};a.img.splice(4,1,e)}})}},oneSide:function(){if(console.log(i(this.register.role," at pages\\register\\positive\\positive.vue:322")),console.log(i(this.img," at pages\\register\\positive\\positive.vue:323")),1==this.img.length)console.log(i(1," at pages\\register\\positive\\positive.vue:325")),this.btn.stepOne=!1,this.btn.stepTwo=!0,this.num=1,this.src=n.default,this.step.active="step-ago",this.step.kong="step-active";else{if(!(this.img.length>1))return t.showToast({title:"请上传身份证正面照",icon:"none"});console.log(i(2," at pages\\register\\positive\\positive.vue:334")),this.btn.stepOne=!1,this.btn.stepTwo=!0,this.num=1,this.src=this.img[1].uri,this.step.active="step-ago",this.step.kong="step-active"}},lastStep:function(){console.log(i(this.img[0].uri," at pages\\register\\positive\\positive.vue:352")),this.src=this.img[0].uri,this.btn.stepOne=!0,this.btn.stepTwo=!1,this.num=0,this.step.active="step-active",this.step.kong=""},nextStep:function(){if(console.log(i(this.count," at pages\\register\\positive\\positive.vue:364")),2==this.img.length)this.btn.stepTwo=!1,this.btn.stepThree=!0,this.btn.Dates=!0,this.num=2,this.src=a.default,this.step.active="step-ago",this.step.kong="step-ago",this.step.kong1="step-active";else{if(!(this.img.length>2))return t.showToast({title:"请上传身份证反面照",icon:"none"});this.btn.stepTwo=!1,this.btn.stepThree=!0,this.btn.Dates=!0,this.num=2,this.src=this.img[2].uri,this.step.active="step-ago",this.step.kong="step-ago",this.step.kong1="step-active"}},threeStepLast:function(){this.btn.stepThree=!1,this.btn.stepTwo=!0,this.btn.Dates=!1,this.num=1,this.src=this.img[1].uri,this.step.active="step-ago",this.step.kong="step-active",this.step.kong1=""},threeStepNext:function(){if(console.log(i(this.register.role," at pages\\register\\positive\\positive.vue:406")),console.log(i(this.count," at pages\\register\\positive\\positive.vue:407")),3==this.img.length){if(1==this.ifday)this.btn.stepThree=!1,this.btn.stepFour=!0,this.btn.Dates=!1,this.btn.dates=!0,this.num=3,this.src=a.default,this.step.kong="step-ago",this.step.kong1="step-ago",this.step.kong2="step-active";else if(0==this.ifday)return t.showToast({title:"请选择授权有效期",icon:"none"})}else{if(!(this.img.length>3))return t.showToast({title:"请上传购油授权书",icon:"none"});this.btn.stepThree=!1,this.btn.stepFour=!0,this.btn.Dates=!1,this.btn.dates=!0,this.num=3,this.src=this.img[3].uri,this.step.kong="step-ago",this.step.kong1="step-ago",this.step.kong2="step-active"}},fourStepLast:function(){this.btn.stepFour=!1,this.btn.stepThree=!0,this.btn.Dates=!0,this.btn.dates=!1,this.num=2,this.src=this.img[2].uri,this.step.kong="step-ago",this.step.kong1="step-active",this.step.kong2=""},fourStepNext:function(){if(console.log(i(this.img.length," at pages\\register\\positive\\positive.vue:459")),4==this.img.length){if(1==this.ifdays)this.btn.stepFour=!1,this.btn.stepFive=!0,this.btn.dates=!1,this.btn.voiceDates=!0,this.num=4,this.src=a.default,this.step.kong1="step-ago",this.step.kong2="step-ago",this.step.kong3="step-active";else if(0==this.ifdays)return t.showToast({title:"请选择授权有效期",icon:"none"})}else{if(!(this.img.length>4))return t.showToast({title:"请上传提油授权书",icon:"none"});this.btn.stepFour=!1,this.btn.stepFive=!0,this.btn.dates=!1,this.btn.voiceDates=!0,this.num=4,this.src=this.img[4].uri,this.step.kong1="step-ago",this.step.kong2="step-ago",this.step.kong3="step-active"}},fiveStepLast:function(){this.btn.stepFive=!1,this.btn.stepFour=!0,this.btn.dates=!0,this.btn.voiceDates=!1,this.num=3,this.src=this.img[3].uri,this.step.kong1="step-ago",this.step.kong2="step-active",this.step.kong3=""},fiveStepNext:function(){var e=this.img.map(function(t,e){return{name:t.name,uri:t.uri}});if(!(this.img.length>=5))return t.showToast({title:"请上传提油授权书",icon:"none"});if(1==this.ifvoiceDate)console.log(i(this.register.role," at pages\\register\\positive\\positive.vue:521")),t.uploadFile({url:"http://dev.pjy.name:8180/api/bizcust/base/regist",files:e,formData:{username:this.register.userPhoneNum,passwd:this.register.newPwd2,roles:this.register.role,customer_id:this.register.companyId,manager_id:this.register.customerId,realname:this.register.userName,id_card:this.register.userId,phone:this.register.userPhoneNum,city:this.register.userCity,buy_auth_exp:this.day,get_auth_exp:this.days,bill_auth_exp:this.voiceDate},success:function(e){var s=JSON.parse(e.data);console.log(i(s," at pages\\register\\positive\\positive.vue:543")),200==e.statusCode&&(0==s.errorCode?(t.showToast({title:"注册已提交，审核成功后即可登录使用"}),t.removeStorage({key:"register"}),t.navigateTo({url:"../../login/login?val="+s.value})):t.showToast({title:s.message,icon:"none"}))}});else if(0==this.ifvoiceDate)return t.showToast({title:"请选择授权有效期",icon:"none"})},changeTimes:function(){this.times=!1,this.$refs.date.show()},changeTime:function(){this.apply_one=!1,this.$refs.date1.show()},onConfirm:function(t){console.log(i(t," at pages\\register\\positive\\positive.vue:589")),this.day=t.result,this.ifday=!0},onConfirms:function(t){this.days=t.result,this.ifdays=!0},voiceDates:function(){this.apply_two=!1,this.$refs.date2.show()},voicedates:function(t){this.voiceDate=t.result,this.ifvoiceDate=!0}},components:{step:h,mButton:p,tButton:u,ruiDatePicker:c,wPicker:g}};e.default=l}).call(this,s("6e42")["default"],s("0de9")["default"])},c936:function(t,e,s){}},[["e4b8","common/runtime","common/vendor"]]]);