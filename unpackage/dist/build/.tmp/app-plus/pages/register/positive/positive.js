(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/register/positive/positive"],{"18f1":function(t,e,i){"use strict";var s=i("5b1d"),o=i.n(s);o.a},3767:function(t,e,i){"use strict";i.r(e);var s=i("c7fd"),o=i.n(s);for(var n in s)"default"!==n&&function(t){i.d(e,t,function(){return s[t]})}(n);e["default"]=o.a},"46fd":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement;t._self._c},o=[];i.d(e,"a",function(){return s}),i.d(e,"b",function(){return o})},"5b1d":function(t,e,i){},a72e:function(t,e,i){"use strict";i.r(e);var s=i("46fd"),o=i("3767");for(var n in o)"default"!==n&&function(t){i.d(e,t,function(){return o[t]})}(n);i("18f1");var a=i("2877"),r=Object(a["a"])(o["default"],s["a"],s["b"],!1,null,"2f32bc4e",null);e["default"]=r.exports},c7fd:function(t,e,i){"use strict";(function(t,s){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(i("a7aa")),n=r(i("63eb")),a=r(i("0362"));i("71c2");function r(t){return t&&t.__esModule?t:{default:t}}var p=function(){return i.e("components/step/step").then(i.bind(null,"0e21"))},h=function(){return i.e("components/m-button").then(i.bind(null,"1460"))},u=function(){return i.e("components/twoButton/twoButton").then(i.bind(null,"a41a"))},c=function(){return Promise.all([i.e("common/vendor"),i.e("rattenking-dtpicker/rattenking-dtpicker")]).then(i.bind(null,"d6ea"))},g=function(){return Promise.all([i.e("common/vendor"),i.e("components/w-picker/w-picker")]).then(i.bind(null,"2ae5"))},l={data:function(){return{step:{value1:"第一步",value2:"第二步",value3:"第三步",value4:"第四步",value5:"第五步",active:"step-active",ago:"step-ago",kong:"",kong1:"",kong2:"",kong3:""},btn:{type:"primary",value:"下一步",disabled:!1,content:"上一步",commit:"注册",stepOne:!0,stepTwo:!1,stepThree:!1,stepFour:!1,stepFive:!1,Dates:!1,dates:!1,voiceDates:!1},info:["正面","反面","购油","提油","发票领取"],tellinfo:["正面示例","反面示例","授权书示例","授权书示例","授权书示例"],num:0,count:0,src:o.default,ifday:!1,ifdays:!1,ifvoiceDate:!1,times:!0,apply_one:!0,apply_two:!0,idCardZ:"",idCardF:"",buyOil:"",takeOil:"",register:"",img:[],mode:"date",day:"2019-01-01",days:"2019-01-01",voiceDate:"2019-01-01",clientID:"",faceimg:{name:"face_photo",uri:""}}},onLoad:function(e){this.faceimg.uri=e.faceimg,this.register=t.getStorageSync("register"),"购油人,提油人,发票领取人"!==this.register.user&&(this.register.user="购油人,提油人,发票领取人"),console.log(s(this.register," at pages\\register\\positive\\positive.vue:216")),this.getclientid()},methods:{getclientid:function(){var e=this;t.getStorage({key:"clientid",success:function(t){e.clientID=t.data,console.log(s(t," at pages\\register\\positive\\positive.vue:226"))}})},all:function(){if(1==this.btn.stepOne){var e=this;t.chooseImage({count:1,success:function(t){e.count=1,console.log(s(t.tempFiles[0].path," at pages\\register\\positive\\positive.vue:237")),e.idCardZ=t.tempFilePaths,e.src=t.tempFiles[0].path;var i={name:"id_fphoto",uri:t.tempFilePaths[0]};e.img.splice(0,1,i)}})}else if(1==this.btn.stepTwo){var i=this;t.chooseImage({count:1,success:function(t){console.log(s(t.tempFiles," at pages\\register\\positive\\positive.vue:260")),i.count=2,i.idCardF=t.tempFilePaths,i.src=t.tempFiles[0].path;var e={name:"id_bphoto",uri:t.tempFilePaths[0]};i.img.splice(1,1,e)}})}else if(1==this.btn.stepThree){var o=this;t.chooseImage({count:1,success:function(t){console.log(s(t.tempFiles," at pages\\register\\positive\\positive.vue:280")),o.count=3,o.buyOil=t.tempFilePaths,o.src=t.tempFiles[0].path;var e={name:"buy_auth_photo",uri:t.tempFilePaths[0]};o.img.splice(2,1,e)}})}else if(1==this.btn.stepFour){var n=this;t.chooseImage({count:1,success:function(t){console.log(s(t.tempFiles," at pages\\register\\positive\\positive.vue:300")),n.count=4,n.takeOil=t.tempFilePaths,n.src=t.tempFiles[0].path;var e={name:"get_auth_photo",uri:t.tempFilePaths[0]};n.img.splice(3,1,e)}})}else if(1==this.btn.stepFive){var a=this;t.chooseImage({count:1,success:function(t){console.log(s(t.tempFiles," at pages\\register\\positive\\positive.vue:320")),a.count=5,a.takeOil=t.tempFilePaths,a.src=t.tempFiles[0].path;var e={name:"bill_auth_photo",uri:t.tempFilePaths[0]};a.img.splice(4,1,e)}})}},oneSide:function(){if(console.log(s(this.register," at pages\\register\\positive\\positive.vue:342")),console.log(s(this.register.role," at pages\\register\\positive\\positive.vue:343")),console.log(s(this.img," at pages\\register\\positive\\positive.vue:344")),1==this.img.length)console.log(s(1," at pages\\register\\positive\\positive.vue:346")),this.btn.stepOne=!1,this.btn.stepTwo=!0,this.num=1,this.src=n.default,this.step.active="step-ago",this.step.kong="step-active";else{if(!(this.img.length>1))return t.showToast({title:"请上传身份证正面照",icon:"none",position:"bottom"});console.log(s(2," at pages\\register\\positive\\positive.vue:355")),this.btn.stepOne=!1,this.btn.stepTwo=!0,this.num=1,this.src=this.img[1].uri,this.step.active="step-ago",this.step.kong="step-active"}},lastStep:function(){console.log(s(this.img[0].uri," at pages\\register\\positive\\positive.vue:374")),this.src=this.img[0].uri,this.btn.stepOne=!0,this.btn.stepTwo=!1,this.num=0,this.step.active="step-active",this.step.kong=""},nextStep:function(){if(console.log(s(this.count," at pages\\register\\positive\\positive.vue:386")),2==this.img.length)this.btn.stepTwo=!1,this.btn.stepThree=!0,this.btn.Dates=!0,this.num=2,this.src=a.default,this.step.active="step-ago",this.step.kong="step-ago",this.step.kong1="step-active";else{if(!(this.img.length>2))return t.showToast({title:"请上传身份证反面照",icon:"none",position:"bottom"});this.btn.stepTwo=!1,this.btn.stepThree=!0,this.btn.Dates=!0,this.num=2,this.src=this.img[2].uri,this.step.active="step-ago",this.step.kong="step-ago",this.step.kong1="step-active"}},threeStepLast:function(){this.btn.stepThree=!1,this.btn.stepTwo=!0,this.btn.Dates=!1,this.num=1,this.src=this.img[1].uri,this.step.active="step-ago",this.step.kong="step-active",this.step.kong1=""},threeStepNext:function(){if(console.log(s(this.register.role," at pages\\register\\positive\\positive.vue:429")),console.log(s(this.count," at pages\\register\\positive\\positive.vue:430")),3==this.img.length){if(1==this.ifday)this.btn.stepThree=!1,this.btn.stepFour=!0,this.btn.Dates=!1,this.btn.dates=!0,this.num=3,this.src=a.default,this.step.kong="step-ago",this.step.kong1="step-ago",this.step.kong2="step-active";else if(0==this.ifday)return t.showToast({title:"请选择授权有效期",icon:"none",position:"bottom"})}else{if(!(this.img.length>3))return t.showToast({title:"请上传购油授权书",icon:"none",position:"bottom"});this.btn.stepThree=!1,this.btn.stepFour=!0,this.btn.Dates=!1,this.btn.dates=!0,this.num=3,this.src=this.img[3].uri,this.step.kong="step-ago",this.step.kong1="step-ago",this.step.kong2="step-active"}},fourStepLast:function(){this.btn.stepFour=!1,this.btn.stepThree=!0,this.btn.Dates=!0,this.btn.dates=!1,this.num=2,this.src=this.img[2].uri,this.step.kong="step-ago",this.step.kong1="step-active",this.step.kong2=""},fourStepNext:function(){if(console.log(s(this.img.length," at pages\\register\\positive\\positive.vue:484")),4==this.img.length){if(1==this.ifdays)this.btn.stepFour=!1,this.btn.stepFive=!0,this.btn.dates=!1,this.btn.voiceDates=!0,this.num=4,this.src=a.default,this.step.kong1="step-ago",this.step.kong2="step-ago",this.step.kong3="step-active";else if(0==this.ifdays)return t.showToast({title:"请选择授权有效期",icon:"none",position:"bottom"})}else{if(!(this.img.length>4))return t.showToast({title:"请上传提油授权书",icon:"none",position:"bottom"});this.btn.stepFour=!1,this.btn.stepFive=!0,this.btn.dates=!1,this.btn.voiceDates=!0,this.num=4,this.src=this.img[4].uri,this.step.kong1="step-ago",this.step.kong2="step-ago",this.step.kong3="step-active"}},fiveStepLast:function(){this.btn.stepFive=!1,this.btn.stepFour=!0,this.btn.dates=!0,this.btn.voiceDates=!1,this.num=3,this.src=this.img[3].uri,this.step.kong1="step-ago",this.step.kong2="step-active",this.step.kong3=""},fiveStepNext:function(){this.img.push(this.faceimg);var e=this.img.map(function(t,e){return{name:t.name,uri:t.uri}});console.log(s(e," at pages\\register\\positive\\positive.vue:547"));var i="http://dev.pjy.name:8170/api/bizcust/base/regist";if(!(this.img.length>=5))return t.showToast({title:"请上传提油授权书",icon:"none",position:"bottom"});if(1==this.ifvoiceDate)console.log(s(this.register.role," at pages\\register\\positive\\positive.vue:552")),t.uploadFile({url:i,files:e,formData:{username:this.register.userPhoneNum,passwd:this.register.newPwd2,roles:this.register.role,customer_id:this.register.companyId,realname:this.register.userName,id_card:this.register.userId,phone:this.register.userPhoneNum,city:this.register.userCity,buy_auth_exp:this.day,get_auth_exp:this.days,bill_auth_exp:this.voiceDate,client_id:this.clientID},success:function(e){var i=JSON.parse(e.data);console.log(s(i," at pages\\register\\positive\\positive.vue:574")),200==e.statusCode&&(0==i.errorCode?(t.showToast({title:"注册已提交，审核成功后即可登录使用",icon:"none",position:"bottom"}),t.removeStorage({key:"register"}),t.navigateTo({url:"../../login/login?val="+i.value})):t.showToast({title:i.message,icon:"none",position:"bottom"}))}});else if(0==this.ifvoiceDate)return t.showToast({title:"请选择授权有效期",icon:"none",position:"bottom"})},changeTimes:function(){this.times=!1,this.$refs.date.show()},changeTime:function(){this.apply_one=!1,this.$refs.date1.show()},onConfirm:function(t){console.log(s(t," at pages\\register\\positive\\positive.vue:625")),this.day=t.result,this.ifday=!0},onConfirms:function(t){this.days=t.result,this.ifdays=!0},voiceDates:function(){this.apply_two=!1,this.$refs.date2.show()},voicedates:function(t){this.voiceDate=t.result,this.ifvoiceDate=!0},previewImage:function(e){console.log(s(this.src,a.default," at pages\\register\\positive\\positive.vue:643")),e>=2&&t.previewImage({current:e,urls:[a.default]})}},components:{step:p,mButton:h,tButton:u,ruiDatePicker:c,wPicker:g}};e.default=l}).call(this,i("6e42")["default"],i("0de9")["default"])},e4b8:function(t,e,i){"use strict";(function(t){i("8790"),i("921b");s(i("66fd"));var e=s(i("a72e"));function s(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("6e42")["createPage"])}},[["e4b8","common/runtime","common/vendor"]]]);