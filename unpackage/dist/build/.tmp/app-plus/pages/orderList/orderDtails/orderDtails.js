(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/orderList/orderDtails/orderDtails"],{"14a3":function(t,e,r){"use strict";r.r(e);var o=r("6dc8"),s=r("fad3");for(var a in s)"default"!==a&&function(t){r.d(e,t,function(){return s[t]})}(a);r("ebf6");var n=r("2877"),i=Object(n["a"])(s["default"],o["a"],o["b"],!1,null,null,null);e["default"]=i.exports},"448b":function(t,e,r){"use strict";(function(t){r("8790"),r("921b");o(r("66fd"));var e=o(r("14a3"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,r("6e42")["createPage"])},"6dc8":function(t,e,r){"use strict";var o=function(){var t=this,e=t.$createElement;t._self._c},s=[];r.d(e,"a",function(){return o}),r.d(e,"b",function(){return s})},a46a:function(t,e,r){"use strict";(function(t,o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=r("71c2"),a=function(){return r.e("components/twoButton/twoButton").then(r.bind(null,"a41a"))},n=function(){return r.e("components/m-button").then(r.bind(null,"1460"))},i={data:function(){return{type1:"defult",type:"primary",con1:"取消订单",con2:"确认购买",btnValue:"确认已付款",closed:"关闭",dates:"2019-08-12 08:12",orderId:"",no:"",order:[],time:"",countDown:"00:00:00",disabled:!1,have:"",status:"",statusinfo:[]}},onLoad:function(t){this.orderId=t.id,this.status=t.status,this.no=t.no,this.getOrderDtails(),-2==this.status||-1==this.status||9==this.status||5==this.status?this.have=!0:this.have=!1},methods:{getOrderDtails:function(){var e=this;this.test.post("order/query_OrderById",{id:this.orderId}).then(function(r){if(console.log(t(r," at pages\\orderList\\orderDtails\\orderDtails.vue:203")),200==r.statusCode&&0==r.data.errorCode){e.order=r.data.value,e.status=r.data.value.status,e.statusinfo=e.order.latestHis,e.time=new Date(e.order.create_time+288e5).toJSON().substr(0,16).replace("T"," ").replace(/-/g,"-"),e.dates=new Date(e.statusinfo.time+288e5).toJSON().substr(0,16).replace("T"," ").replace(/-/g,"-");var o=e.order.difference;e.cutDown(o)}}).catch(function(e){console.log(t(e," at pages\\orderList\\orderDtails\\orderDtails.vue:217"))})},cutDown:function(t){var e=this;0==t&&clearInterval(),setInterval(function(){t--,e.countDown=(0,s.formatSeconds)(t)},1e3)},sureBuy:function(t){o.redirectTo({url:"../invoice/invoice?id="+this.orderId+"&number="+t+"&no="+this.no+"&status="+this.status+"&company="+this.order.org_name+"&moeny="+this.oilPrice})},tells:function(){var e=this;this.test.post("order/com_payment",{id:this.orderId}).then(function(r){console.log(t(r," at pages\\orderList\\orderDtails\\orderDtails.vue:240")),200==r.statusCode&&0==r.data.errorCode&&e.test.post("order/query_OrderById",{id:e.orderId}).then(function(r){if(console.log(t(r," at pages\\orderList\\orderDtails\\orderDtails.vue:246")),200==r.statusCode&&0==r.data.errorCode){e.order=r.data.value,e.status=r.data.value.status,e.time=new Date(e.order.create_time+288e5).toJSON().substr(0,16).replace("T"," ").replace(/-/g,"-"),clearInterval();var o=e.order.difference;e.cutDown(o)}}).catch(function(e){console.log(t(e," at pages\\orderList\\orderDtails\\orderDtails.vue:257"))})}).catch(function(e){console.log(t(e," at pages\\orderList\\orderDtails\\orderDtails.vue:261"))})},cancelOrder:function(){var e=this;o.showModal({content:"确认取消订单",success:function(r){r.confirm?e.test.post("order/cancel_order",{id:e.orderId}).then(function(e){console.log(t(e," at pages\\orderList\\orderDtails\\orderDtails.vue:274")),200==e.statusCode&&0==e.data.errorCode?(o.redirectTo({url:"../orderList"}),o.showToast({title:"取消订单成功"})):o.showToast({title:"取消订单失败",icon:"none"})}).catch(function(e){console.log(t(e," at pages\\orderList\\orderDtails\\orderDtails.vue:289"))}):r.cancel}})},closePage:function(){o.navigateBack({delta:1})},goRotate:function(){o.navigateTo({url:"./orderStatus/orderStatus?id="+this.orderId+"&user_id="+this.order.user_id})},payment:function(){var e=this;this.test.post("order/urgent_payment",{id:this.orderId}).then(function(r){console.log(t(r," at pages\\orderList\\orderDtails\\orderDtails.vue:309")),200==r.statusCode&&0==r.data.errorCode?(e.disabled=!e.disabled,o.showToast({title:r.data.message,icon:"none"})):o.showToast({title:r.data.message,icon:"none"})}).catch(function(e){console.log(t(e," at pages\\orderList\\orderDtails\\orderDtails.vue:323"))})}},computed:{oilPrice:function(){return parseFloat(this.order.oil_price*this.order.count).toFixed(2)},orderPrice:function(){return(parseFloat(this.oilPrice)+parseFloat(this.delivery)).toFixed(2)},discounts:function(){return((this.order.market_price-this.order.oil_price)/this.order.market_price*100).toFixed(2)},delivery:function(){return(this.order.ship_price*this.order.ship_dis).toFixed(2)}},components:{tButton:a,mButton:n}};e.default=i}).call(this,r("0de9")["default"],r("6e42")["default"])},ddf5:function(t,e,r){},ebf6:function(t,e,r){"use strict";var o=r("ddf5"),s=r.n(o);s.a},fad3:function(t,e,r){"use strict";r.r(e);var o=r("a46a"),s=r.n(o);for(var a in o)"default"!==a&&function(t){r.d(e,t,function(){return o[t]})}(a);e["default"]=s.a}},[["448b","common/runtime","common/vendor"]]]);