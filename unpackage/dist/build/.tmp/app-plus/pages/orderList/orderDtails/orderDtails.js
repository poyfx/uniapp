(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/orderList/orderDtails/orderDtails"],{"14a3":function(t,e,o){"use strict";o.r(e);var r=o("f673"),n=o("fad3");for(var s in n)"default"!==s&&function(t){o.d(e,t,function(){return n[t]})}(s);o("ebf6");var a=o("2877"),i=Object(a["a"])(n["default"],r["a"],r["b"],!1,null,null,null);e["default"]=i.exports},"5a58":function(t,e,o){},"9f7d":function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=o("71c2"),n=function(){return o.e("components/twoButton/twoButton").then(o.bind(null,"a41a"))},s=function(){return o.e("components/m-button").then(o.bind(null,"1460"))},a={data:function(){return{type1:"defult",type:"primary",con1:"取消订单",con2:"确认购买",btnValue:"确认已付款",closed:"关闭",dates:"2019-08-12 08:12",rotate:!1,orderId:"",no:"",order:[],time:"",countDown:"00:00:00",disabled:!1,have:"",status:"",delivery:"100"}},onLoad:function(t){this.orderId=t.id,this.status=t.status,this.no=t.no,this.getOrderDtails(),-2==this.status||-1==this.status||9==this.status||5==this.status?this.have=!0:this.have=!1},methods:{getOrderDtails:function(){var t=this;this.test.post("order/query_OrderById",{id:this.orderId}).then(function(e){if(console.log(e," at pages\\orderList\\orderDtails\\orderDtails.vue:174"),200==e.statusCode&&0==e.data.errorCode){t.order=e.data.value,t.status=e.data.value.status,t.time=new Date(t.order.create_time+288e5).toJSON().substr(0,16).replace("T"," ").replace(/-/g,"-");var o=t.order.difference;t.cutDown(o)}}).catch(function(t){console.log(t," at pages\\orderList\\orderDtails\\orderDtails.vue:184")})},cutDown:function(t){var e=this;0==t&&clearInterval(),setInterval(function(){t--,e.countDown=(0,r.formatSeconds)(t)},1e3)},sureBuy:function(e){t.navigateTo({url:"../invoice/invoice?id="+this.orderId+"&number="+e+"&no="+this.no+"&status="+this.status+"&company="+this.order.org_name+"&moeny="+this.oilPrice})},tell:function(){this.disabled=!this.disabled,t.showToast({title:"已提醒财务确认,请耐心等待",icon:"none"})},tells:function(){var t=this;this.test.post("order/com_payment",{id:this.orderId}).then(function(e){console.log(e," at pages\\orderList\\orderDtails\\orderDtails.vue:213"),200==e.statusCode&&0==e.data.errorCode&&t.getOrderDtails()}).catch(function(t){console.log(t," at pages\\orderList\\orderDtails\\orderDtails.vue:218")})},cancelOrder:function(){var e=this;t.showModal({content:"确认取消订单",success:function(o){o.confirm?e.test.post("order/cancel_order",{id:e.orderId}).then(function(e){console.log(e," at pages\\orderList\\orderDtails\\orderDtails.vue:231"),200==e.statusCode&&0==e.data.errorCode?(t.redirectTo({url:"../orderList"}),t.showToast({title:"取消订单成功"})):t.showToast({title:"取消订单失败",icon:"none"})}).catch(function(t){console.log(t," at pages\\orderList\\orderDtails\\orderDtails.vue:246")}):o.cancel}})},closePage:function(){t.navigateBack({delta:1})},goRotate:function(){this.rotate=!this.rotate}},computed:{oilPrice:function(){return parseFloat(this.order.oil_price*this.order.count).toFixed(2)},orderPrice:function(){return(parseFloat(this.oilPrice)+parseFloat(this.delivery)).toFixed(2)}},components:{tButton:n,mButton:s}};e.default=a}).call(this,o("6e42")["default"])},ebf6:function(t,e,o){"use strict";var r=o("5a58"),n=o.n(r);n.a},f673:function(t,e,o){"use strict";var r=function(){var t=this,e=t.$createElement;t._self._c},n=[];o.d(e,"a",function(){return r}),o.d(e,"b",function(){return n})},fad3:function(t,e,o){"use strict";o.r(e);var r=o("9f7d"),n=o.n(r);for(var s in r)"default"!==s&&function(t){o.d(e,t,function(){return r[t]})}(s);e["default"]=n.a}},[["448b","common/runtime","common/vendor"]]]);