(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/orderList/orderDtails/orderDtails"],{"14a3":function(t,e,o){"use strict";o.r(e);var r=o("2047"),a=o("fad3");for(var s in a)"default"!==s&&function(t){o.d(e,t,function(){return a[t]})}(s);o("ebf6");var n=o("2877"),i=Object(n["a"])(a["default"],r["a"],r["b"],!1,null,null,null);e["default"]=i.exports},2047:function(t,e,o){"use strict";var r=function(){var t=this,e=t.$createElement;t._self._c},a=[];o.d(e,"a",function(){return r}),o.d(e,"b",function(){return a})},"5a58":function(t,e,o){},"9f7d":function(t,e,o){"use strict";(function(t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o("71c2"),s=function(){return o.e("components/twoButton/twoButton").then(o.bind(null,"a41a"))},n=function(){return o.e("components/m-button").then(o.bind(null,"1460"))},i={data:function(){return{type1:"defult",type:"primary",con1:"取消订单",con2:"确认购买",btnValue:"确认已付款",closed:"关闭",dates:"2019-08-12 08:12",rotate:!1,orderId:"",no:"",order:[],time:"",countDown:"00:00:00",disabled:!1,have:"",status:"",delivery:"100"}},onLoad:function(t){this.orderId=t.id,this.status=t.status,this.no=t.no,this.getOrderDtails(),-2==this.status||-1==this.status||9==this.status||5==this.status?this.have=!0:this.have=!1},methods:{getOrderDtails:function(){var e=this;this.test.post("order/query_OrderById",{id:this.orderId}).then(function(o){if(console.log(t(o," at pages\\orderList\\orderDtails\\orderDtails.vue:191")),200==o.statusCode&&0==o.data.errorCode){e.order=o.data.value,e.status=o.data.value.status,e.time=new Date(e.order.create_time+288e5).toJSON().substr(0,16).replace("T"," ").replace(/-/g,"-");var r=e.order.difference;e.cutDown(r)}}).catch(function(e){console.log(t(e," at pages\\orderList\\orderDtails\\orderDtails.vue:201"))})},cutDown:function(t){var e=this;0==t&&clearInterval(),setInterval(function(){t--,e.countDown=(0,a.formatSeconds)(t)},1e3)},sureBuy:function(t){r.navigateTo({url:"../invoice/invoice?id="+this.orderId+"&number="+t+"&no="+this.no+"&status="+this.status+"&company="+this.order.org_name+"&moeny="+this.oilPrice})},tell:function(){console.log(t(this.status," at pages\\orderList\\orderDtails\\orderDtails.vue:220")),this.disabled=!this.disabled,r.showToast({title:"已提醒财务确认,请耐心等待",icon:"none"})},tells:function(){var e=this;this.test.post("order/com_payment",{id:this.orderId}).then(function(o){console.log(t(o," at pages\\orderList\\orderDtails\\orderDtails.vue:231")),200==o.statusCode&&0==o.data.errorCode&&e.test.post("order/query_OrderById",{id:e.orderId}).then(function(o){if(console.log(t(o," at pages\\orderList\\orderDtails\\orderDtails.vue:237")),200==o.statusCode&&0==o.data.errorCode){e.order=o.data.value,e.status=o.data.value.status,e.time=new Date(e.order.create_time+288e5).toJSON().substr(0,16).replace("T"," ").replace(/-/g,"-"),clearInterval();var r=e.order.difference;e.cutDown(r)}}).catch(function(e){console.log(t(e," at pages\\orderList\\orderDtails\\orderDtails.vue:248"))})}).catch(function(e){console.log(t(e," at pages\\orderList\\orderDtails\\orderDtails.vue:252"))})},cancelOrder:function(){var e=this;r.showModal({content:"确认取消订单",success:function(o){o.confirm?e.test.post("order/cancel_order",{id:e.orderId}).then(function(e){console.log(t(e," at pages\\orderList\\orderDtails\\orderDtails.vue:265")),200==e.statusCode&&0==e.data.errorCode?(r.redirectTo({url:"../orderList"}),r.showToast({title:"取消订单成功"})):r.showToast({title:"取消订单失败",icon:"none"})}).catch(function(e){console.log(t(e," at pages\\orderList\\orderDtails\\orderDtails.vue:280"))}):o.cancel}})},closePage:function(){r.navigateBack({delta:1})},goRotate:function(){this.rotate=!this.rotate}},computed:{oilPrice:function(){return parseFloat(this.order.oil_price*this.order.count).toFixed(2)},orderPrice:function(){return(parseFloat(this.oilPrice)+parseFloat(this.delivery)).toFixed(2)}},components:{tButton:s,mButton:n}};e.default=i}).call(this,o("0de9")["default"],o("6e42")["default"])},ebf6:function(t,e,o){"use strict";var r=o("5a58"),a=o.n(r);a.a},fad3:function(t,e,o){"use strict";o.r(e);var r=o("9f7d"),a=o.n(r);for(var s in r)"default"!==s&&function(t){o.d(e,t,function(){return r[t]})}(s);e["default"]=a.a}},[["448b","common/runtime","common/vendor"]]]);