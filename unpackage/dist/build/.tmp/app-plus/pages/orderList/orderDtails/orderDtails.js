(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/orderList/orderDtails/orderDtails"],{"14a3":function(t,e,r){"use strict";r.r(e);var o=r("d5e5"),s=r("fad3");for(var a in s)"default"!==a&&function(t){r.d(e,t,function(){return s[t]})}(a);r("ebf6");var i=r("2877"),n=Object(i["a"])(s["default"],o["a"],o["b"],!1,null,null,null);e["default"]=n.exports},"5a58":function(t,e,r){},"9f7d":function(t,e,r){"use strict";(function(t,o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=r("71c2"),a=function(){return r.e("components/twoButton/twoButton").then(r.bind(null,"a41a"))},i=function(){return r.e("components/m-button").then(r.bind(null,"1460"))},n={data:function(){return{type1:"defult",type:"primary",con1:"取消订单",con2:"确认购买",btnValue:"确认已付款",closed:"关闭",dates:"2019-08-12 08:12",orderId:"",no:"",order:[],time:"",countDown:"00:00:00",disabled:!1,have:"",status:"",statusinfo:[]}},onLoad:function(t){this.orderId=t.id,this.status=t.status,this.no=t.no,this.getOrderDtails(),-2==this.status||-1==this.status||9==this.status||5==this.status?this.have=!0:this.have=!1},methods:{getOrderDtails:function(){var e=this;this.test.post("order/query_OrderById",{id:this.orderId}).then(function(r){if(console.log(t(r," at pages\\orderList\\orderDtails\\orderDtails.vue:193")),200==r.statusCode&&0==r.data.errorCode){e.order=r.data.value,e.status=r.data.value.status,e.statusinfo=e.order.latestHis,e.time=new Date(e.order.create_time+288e5).toJSON().substr(0,16).replace("T"," ").replace(/-/g,"-"),e.dates=new Date(e.statusinfo.time+288e5).toJSON().substr(0,16).replace("T"," ").replace(/-/g,"-");var o=e.order.difference;e.cutDown(o)}}).catch(function(e){console.log(t(e," at pages\\orderList\\orderDtails\\orderDtails.vue:205"))})},cutDown:function(t){var e=this;0==t&&clearInterval(),setInterval(function(){t--,e.countDown=(0,s.formatSeconds)(t)},1e3)},sureBuy:function(t){o.navigateTo({url:"../invoice/invoice?id="+this.orderId+"&number="+t+"&no="+this.no+"&status="+this.status+"&company="+this.order.org_name+"&moeny="+this.oilPrice})},tell:function(){console.log(t(this.status," at pages\\orderList\\orderDtails\\orderDtails.vue:224")),this.disabled=!this.disabled,o.showToast({title:"已提醒财务确认,请耐心等待",icon:"none"})},tells:function(){var e=this;this.test.post("order/com_payment",{id:this.orderId}).then(function(r){console.log(t(r," at pages\\orderList\\orderDtails\\orderDtails.vue:235")),200==r.statusCode&&0==r.data.errorCode&&e.test.post("order/query_OrderById",{id:e.orderId}).then(function(r){if(console.log(t(r," at pages\\orderList\\orderDtails\\orderDtails.vue:241")),200==r.statusCode&&0==r.data.errorCode){e.order=r.data.value,e.status=r.data.value.status,e.time=new Date(e.order.create_time+288e5).toJSON().substr(0,16).replace("T"," ").replace(/-/g,"-"),clearInterval();var o=e.order.difference;e.cutDown(o)}}).catch(function(e){console.log(t(e," at pages\\orderList\\orderDtails\\orderDtails.vue:252"))})}).catch(function(e){console.log(t(e," at pages\\orderList\\orderDtails\\orderDtails.vue:256"))})},cancelOrder:function(){var e=this;o.showModal({content:"确认取消订单",success:function(r){r.confirm?e.test.post("order/cancel_order",{id:e.orderId}).then(function(e){console.log(t(e," at pages\\orderList\\orderDtails\\orderDtails.vue:269")),200==e.statusCode&&0==e.data.errorCode?(o.redirectTo({url:"../orderList"}),o.showToast({title:"取消订单成功"})):o.showToast({title:"取消订单失败",icon:"none"})}).catch(function(e){console.log(t(e," at pages\\orderList\\orderDtails\\orderDtails.vue:284"))}):r.cancel}})},closePage:function(){o.navigateBack({delta:1})},goRotate:function(){o.navigateTo({url:"./orderStatus/orderStatus?id="+this.orderId+"&user_id="+this.order.user_id})}},computed:{oilPrice:function(){return parseFloat(this.order.oil_price*this.order.count).toFixed(2)},orderPrice:function(){return(parseFloat(this.oilPrice)+parseFloat(this.delivery)).toFixed(2)},discounts:function(){return((this.order.market_price-this.order.oil_price)/this.order.market_price*100).toFixed(2)},delivery:function(){return(this.order.ship_price*this.order.ship_dis).toFixed(2)}},components:{tButton:a,mButton:i}};e.default=n}).call(this,r("0de9")["default"],r("6e42")["default"])},d5e5:function(t,e,r){"use strict";var o=function(){var t=this,e=t.$createElement;t._self._c},s=[];r.d(e,"a",function(){return o}),r.d(e,"b",function(){return s})},ebf6:function(t,e,r){"use strict";var o=r("5a58"),s=r.n(o);s.a},fad3:function(t,e,r){"use strict";r.r(e);var o=r("9f7d"),s=r.n(o);for(var a in o)"default"!==a&&function(t){r.d(e,t,function(){return o[t]})}(a);e["default"]=s.a}},[["448b","common/runtime","common/vendor"]]]);