(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/orderList/invoice/invoice"],{"1c01":function(i,e,n){},"31ef":function(i,e,n){"use strict";var t=n("1c01"),o=n.n(t);o.a},c766:function(i,e,n){"use strict";n.r(e);var t=n("e4e4"),o=n("f546");for(var s in o)"default"!==s&&function(i){n.d(e,i,function(){return o[i]})}(s);n("31ef");var c=n("2877"),u=Object(c["a"])(o["default"],t["a"],t["b"],!1,null,null,null);e["default"]=u.exports},e4e4:function(i,e,n){"use strict";var t=function(){var i=this,e=i.$createElement;i._self._c},o=[];n.d(e,"a",function(){return t}),n.d(e,"b",function(){return o})},eb42:function(i,e,n){"use strict";(function(i){function t(i,e,n){return e in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=function(){return n.e("components/twoButton/twoButton").then(n.bind(null,"a41a"))},s=function(){return n.e("components/m-info-img/m-info-img").then(n.bind(null,"8eb7"))},c=function(){return n.e("components/m-info-text/m-info-text").then(n.bind(null,"1655"))},u={data:function(){var i;return{btn:{type:"primary",con2:"确认",dsiabled:!1},show:!1,value:!1,num:"",currentOil:"",move:!1,invoice:(i={company:"xxxxxxxx公司",disabled:!0,money:"111111111",placeholder:"22222222"},t(i,"company","开票公司"),t(i,"money","开票金额"),t(i,"types","发票类型"),t(i,"way","拆分方式"),t(i,"currentOil","当前购油量"),t(i,"surplus","剩余未拆油量"),i),list:[],ids:-1,typeInvoice:"请选择发票类型",invoiceTypes:!1,id:"",invoiceNum:[]}},onLoad:function(i){this.id=i.id,this.currentOil=i.number},methods:{chooseInvoice:function(){this.invoiceTypes=!this.invoiceTypes},invoiceType:function(i){console.log(i," at pages\\orderList\\invoice\\invoice.vue:120"),this.typeInvoice=i.target.id,this.invoiceTypes=!this.invoiceTypes},chooseUsersShow:function(){this.invoiceTypes=!this.invoiceTypes},showIncoice:function(i){i.target.value?this.ids=1:this.ids=-1,this.show=!this.show},add:function(){this.list.push({nums:""})},detal:function(i){this.list.splice(i,1)},cancelOrder:function(){this.test.post("order/make_invoice",{id:this.id,is_invoice:this.ids}).then(function(i){console.log(i," at pages\\orderList\\invoice\\invoice.vue:153")}).catch(function(i){console.log(i," at pages\\orderList\\invoice\\invoice.vue:155")})},invoiceSure:function(e){if("请选择发票类型"==this.typeInvoice)i.showToast({title:"请选择发票类型",icon:"none"});else{this.invoiceNum=[];var n=this;0==this.list.length?(this.invoiceNum.push(this.num),this.invoiceNum=String(this.invoiceNum)):(this.invoiceNum.push(this.num),this.list.forEach(function(i){console.log(i," at pages\\orderList\\invoice\\invoice.vue:174"),n.invoiceNum.push(i.nums)}),this.invoiceNum=String(this.invoiceNum)),console.log(this.invoiceNum," at pages\\orderList\\invoice\\invoice.vue:181"),1==this.ids?""!==this.invoiceNum?0==this.surplusOil?this.test.post("order/make_invoice",{id:this.id,invoice_type:this.typeInvoice,is_invoice:this.ids,invoice_split:this.invoiceNum}).then(function(i){console.log(i," at pages\\orderList\\invoice\\invoice.vue:191")}).catch(function(i){console.log(i," at pages\\orderList\\invoice\\invoice.vue:193")}):i.showToast({title:"发票拆分数量必须与当前油量一致",icon:"none"}):i.showToast({title:"请填写拆分数量",icon:"none"}):-1==this.ids&&this.test.post("order/make_invoice",{id:this.id,is_invoice:this.ids}).then(function(i){console.log(i," at pages\\orderList\\invoice\\invoice.vue:214")}).catch(function(i){console.log(i," at pages\\orderList\\invoice\\invoice.vue:216")})}}},components:{tButton:o,infoImg:s,infoText:c},watch:{surplusOil:function(e,n){console.log(e,n," at pages\\orderList\\invoice\\invoice.vue:231"),e<0?(this.btn.disabled=!0,i.showToast({title:"输入的数字不能超过总吨数",icon:"none"})):this.btn.disabled=!1}},computed:{surplusOil:function(){if(0===this.list.length)return parseFloat(this.currentOil-this.num);for(var i=parseFloat(this.currentOil-this.num),e=0;e<this.list.length;e++)i-=this.list[e].nums;return i}}};e.default=u}).call(this,n("6e42")["default"])},f546:function(i,e,n){"use strict";n.r(e);var t=n("eb42"),o=n.n(t);for(var s in t)"default"!==s&&function(i){n.d(e,i,function(){return t[i]})}(s);e["default"]=o.a}},[["9dd4","common/runtime","common/vendor"]]]);