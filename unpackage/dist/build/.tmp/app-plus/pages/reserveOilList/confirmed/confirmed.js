(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/reserveOilList/confirmed/confirmed"],{"5e87":function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){return n.e("components/step/step").then(n.bind(null,"0e21"))},i=function(){return n.e("components/m-info-text/m-info-text").then(n.bind(null,"1655"))},s=function(){return n.e("components/m-button").then(n.bind(null,"1460"))},a=function(){return n.e("components/twoButton/twoButton").then(n.bind(null,"a41a"))},c={data:function(){return{confirmed:{order:"预约单号",time:"提油时间",company:"提油单位",oil:"油品类型",much:"提油数量",main:"提油方式"},btn:{type:"primary",value:"关闭",commit:"确认收油",commit1:"确认提油"},denialreason:"",disabled:!0,address:"",order:"",company:"",oil:"",much:"",main:"",status:"",driverName:"",carNumber:"",drivcerPhone:"",right:!0,rId:"",oId:"",reserveInfo:"",showAddress:!1,time:"",isrefuse:!1,get_type:""}},onLoad:function(e){this.rId=e.reserve_id,this.oId=e.no,this.getReserveOilList()},methods:{getReserveOilList:function(){var t=this;this.test.post("reserve/query_reserve_info",{reserve_id:this.rId}).then(function(n){console.log(e(n," at pages\\reserveOilList\\confirmed\\confirmed.vue:211")),200==n.statusCode&&0==n.data.errorCode&&(t.reserveInfo=n.data.value,t.status=t.reserveInfo.status,t.time=new Date(t.reserveInfo.reserve_time+288e5).toJSON().substr(0,16).replace("T"," ").replace(/-/g,"-"),t.order=t.reserveInfo.no,t.much=String(t.reserveInfo.extract_num),t.address=t.reserveInfo.ship_addr,t.company=t.reserveInfo.org_name,t.oil=t.reserveInfo.oil_type,t.main=t.reserveInfo.get_type,t.driverName=t.reserveInfo.driver_name,t.carNumber=t.reserveInfo.ship_car,t.drivcerPhone=t.reserveInfo.driver_phone,t.denialreason=t.reserveInfo.denial_reason,"配送"==t.main?t.showAddress=!0:t.showAddress=!1,-1==t.status?t.isrefuse=!0:t.isrefuse=!1)}).catch(function(t){console.log(e(t," at pages\\reserveOilList\\confirmed\\confirmed.vue:245"))})},changeDriver:function(e){var t=this;0==e?r.showModal({content:"确认更换司机吗？",success:function(n){n.confirm&&t.isthisdriver(e)}}):r.showModal({content:"确认配送？",success:function(n){n.confirm&&t.isthisdriver(e)}})},isthisdriver:function(t){var n=this;this.test.post("reserve/confirm_driver",{id:this.rId,is_agree:t}).then(function(e){200==e.statusCode&&0==e.data.errorCode?0==t?r.navigateTo({url:"../reserveOilList"}):n.getReserveOilList():r.showToast({title:e.data.message,icon:"none",position:"bottom"})}).catch(function(t){console.log(e(t," at pages\\reserveOilList\\confirmed\\confirmed.vue:295"))})},close:function(){r.redirectTo({url:"../reserveOilList"})},back:function(){r.navigateBack({delta:1,animationType:"pop-out",animationDuration:200})},finish:function(){var t=this;r.showModal({content:"确认账单无误？",success:function(n){if(n.confirm)t.test.post("reserve/confirm_reserve",{id:t.rId}).then(function(n){console.log(e(n," at pages\\reserveOilList\\confirmed\\confirmed.vue:319")),200==n.statusCode&&0==n.data.errorCode&&t.getReserveOilList()}).catch(function(t){console.log(e(t," at pages\\reserveOilList\\confirmed\\confirmed.vue:324"))});else if(n.cancel)return}})},getCode:function(){r.navigateTo({url:"oliCode/oliCode?id="+this.rId+"&no="+this.order+"&number="+this.much+"&type="+this.oil+"&instead="+this.reserveInfo.is_instead})}},components:{step:o,infoText:i,mButton:s,tButton:a}};t.default=c}).call(this,n("0de9")["default"],n("6e42")["default"])},"748d":function(e,t,n){},"786c":function(e,t,n){"use strict";n.r(t);var r=n("5e87"),o=n.n(r);for(var i in r)"default"!==i&&function(e){n.d(t,e,function(){return r[e]})}(i);t["default"]=o.a},8906:function(e,t,n){"use strict";n.r(t);var r=n("d6df"),o=n("786c");for(var i in o)"default"!==i&&function(e){n.d(t,e,function(){return o[e]})}(i);n("f7e1");var s=n("2877"),a=Object(s["a"])(o["default"],r["a"],r["b"],!1,null,"78878b9c",null);t["default"]=a.exports},9929:function(e,t,n){"use strict";(function(e){n("8790"),n("921b");r(n("66fd"));var t=r(n("8906"));function r(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("6e42")["createPage"])},d6df:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement;e._self._c},o=[];n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o})},f7e1:function(e,t,n){"use strict";var r=n("748d"),o=n.n(r);o.a}},[["9929","common/runtime","common/vendor"]]]);