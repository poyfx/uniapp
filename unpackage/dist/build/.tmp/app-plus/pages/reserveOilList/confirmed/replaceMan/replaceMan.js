(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/reserveOilList/confirmed/replaceMan/replaceMan"],{"08ba":function(e,t,o){"use strict";var n=function(){var e=this,t=e.$createElement;e._self._c},i=[];o.d(t,"a",function(){return n}),o.d(t,"b",function(){return i})},"180e":function(e,t,o){},"27d6":function(e,t,o){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(o("39fa"));o("2f62");function a(e){return e&&e.__esModule?e:{default:e}}var s={data:function(){return{showimg:!1,src:"",checked:!1,checkes:!0,repace_name:"",repace_ID:"",repace_phone:"",num:"",orderNumber:"",oil_type:"",Token:"",id:"",name:"",type:""}},onLoad:function(e){return this.num=e.number,this.orderNumber=e.no,this.oil_type=e.type,this.id=e.id,this.name=e.name,this.getToken(),"invoice"!==this.name?this.type="代提油":this.type="代领发票"},methods:{getToken:function(){var t=this;e.getStorage({key:"Token",success:function(e){t.Token=e.data}})},cancel:function(){this.checked=!this.checked,this.checkes=!this.checkes},takephoto:function(){e.previewImage({urls:[i.default]})},uploadphoto:function(){var t=this;e.chooseImage({count:1,success:function(e){console.log(n(e," at pages\\reserveOilList\\confirmed\\replaceMan\\replaceMan.vue:101")),t.src=e.tempFilePaths[0],t.showimg=!0},fail:function(){console.log(n(res," at pages\\reserveOilList\\confirmed\\replaceMan\\replaceMan.vue:106"))}})},exemption:function(){e.navigateTo({url:"../exemption/exemption?name="+this.type})},send:function(){if(1==this.checkes)return e.showToast({title:"请阅读免责条款,勾选后方可发送",icon:"none",position:"bottom"});if(""!==this.src)if(""!==this.repace_name)if(""!==this.repace_ID)if(18==this.repace_ID.length){if(""===this.repace_phone)return e.showToast({title:"请填写手机号码",icon:"none"});if(!/^1[3456789]\d{9}$/.test(this.repace_phone))return e.showToast({title:"手机号输入有误，请输入11位阿拉伯数字",icon:"none",position:"bottom"});if("invoice"!==this.name){var t="http://dev.pjy.name:8170/api/bizcust/";e.uploadFile({url:t+"reserve/instead_get_oil",filePath:this.src,name:"exp_photo",formData:{no:this.orderNumber,name:this.repace_name,phone:this.repace_phone,id_card:this.repace_ID,oil_type:this.oil_type,num:this.num,id:this.id},header:{Token:this.Token},success:function(t){var o=JSON.parse(t.data);console.log(n(o," at pages\\reserveOilList\\confirmed\\replaceMan\\replaceMan.vue:163")),200==t.statusCode&&0==o.errorCode?e.showToast({title:"发送成功",position:"bottom",success:function(){var t=setInterval(function(){clearInterval(t),e.hideToast(),e.navigateBack({delta:2})},1500)}}):(t.errorCode,e.showToast({title:o.message,icon:"none",position:"bottom"}))}})}else{t="http://dev.pjy.name:8170/api/bizcust/";e.uploadFile({url:t+"order/bizcust_invoice",filePath:this.src,name:"face_photo",formData:{no:this.orderNumber,name:this.repace_name,phone:this.repace_phone,id_card:this.repace_ID},header:{Token:this.Token},success:function(t){var o=JSON.parse(t.data);console.log(n(o," at pages\\reserveOilList\\confirmed\\replaceMan\\replaceMan.vue:221")),200==t.statusCode&&0==o.errorCode?e.showToast({title:"发送成功",position:"bottom",success:function(){var t=setInterval(function(){clearInterval(t),e.hideToast(),e.navigateBack({delta:2})},1500)}}):(t.errorCode,e.showToast({title:o.message,icon:"none",position:"bottom"}))}})}}else e.showToast({title:"身份证号有误，请输入18位身份证号",icon:"none",position:"bottom"});else e.showToast({title:"请填写替代人的身份证号码",icon:"none",position:"bottom"});else e.showToast({title:"请填写替代人的真实姓名",icon:"none",position:"bottom"});else e.showToast({title:"请上传替代人的真实照片",icon:"none",position:"bottom"})}}};t.default=s}).call(this,o("6e42")["default"],o("0de9")["default"])},bf27:function(e,t,o){"use strict";(function(e){o("8790"),o("921b");n(o("66fd"));var t=n(o("d0b5"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,o("6e42")["createPage"])},d0b5:function(e,t,o){"use strict";o.r(t);var n=o("08ba"),i=o("f8e3");for(var a in i)"default"!==a&&function(e){o.d(t,e,function(){return i[e]})}(a);o("f324");var s=o("2877"),r=Object(s["a"])(i["default"],n["a"],n["b"],!1,null,null,null);t["default"]=r.exports},f324:function(e,t,o){"use strict";var n=o("180e"),i=o.n(n);i.a},f8e3:function(e,t,o){"use strict";o.r(t);var n=o("27d6"),i=o.n(n);for(var a in n)"default"!==a&&function(e){o.d(t,e,function(){return n[e]})}(a);t["default"]=i.a}},[["bf27","common/runtime","common/vendor"]]]);